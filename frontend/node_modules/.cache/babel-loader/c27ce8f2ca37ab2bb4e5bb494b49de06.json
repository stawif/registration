{"ast":null,"code":"var _jsxFileName = \"/Users/ashokbatesar/registration/frontend/src/components/registration/VehicleRegistration.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport InputCommonName from \"../modular/InputCommonName\";\nexport default class VehicleRegistration extends React.Component {\n  // Fetch vehicle list from server\n  // Check existence of vehicle name \n  constructor(props) {\n    super(props);\n\n    this.fetchProduct = async () => {\n      const responseVehicleList = await fetch(\"http://127.0.0.1:8000/list-of-vehicles/\");\n      const jsonVehicleList = await responseVehicleList.json();\n      this.state.vehicleList = jsonVehicleList;\n    };\n\n    this.checkVehicle = () => {\n      try {\n        this.setState({\n          vehicleExistStatus: \"\",\n          responseMessage: \"\",\n          buttonStatus: {\n            visibility: 'visible'\n          }\n        });\n\n        const showList = (item, index) => {\n          if (this.state.vehicleName.toLowerCase() === item.name.toLowerCase()) {\n            this.setState({\n              vehicleExistStatus: \"* This vehicle name is already exist!!!\",\n              buttonStatus: {\n                visibility: 'hidden'\n              }\n            });\n          } else {}\n        };\n\n        this.state.vehicleList.forEach(showList);\n      } catch (err) {}\n    };\n\n    this.state = {\n      vehicleName: \"\",\n      vehicleExistStatus: \"\",\n      vehicleList: {},\n      responseMessage: \"\",\n      buttonStatus: {\n        visibility: 'visible'\n      }\n    };\n\n    this.state.onSubmit = e => {\n      axios.post('http://127.0.0.1:8000/vehicle-registration/', {\n        name: this.state.vehicleName\n      }).then(res => {\n        this.state.fetchProduct();\n        this.setState({\n          responseMessage: res.data\n        });\n      }).catch(error => {});\n      e.target.reset();\n      e.preventDefault();\n    };\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"form-container form-group\",\n      onSubmit: e => this.state.onSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"headingViewPart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"vehicle Registration\"), React.createElement(\"div\", {\n      className: \"pt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(InputCommonName, {\n      minLength: \"5\",\n      placeholderParent: \"Vehicle Name\",\n      callbackFromParent: dataFromChild => {\n        this.state.vehicleName = dataFromChild;\n      },\n      checkFromParent: this.state.checkVehicle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, this.state.vehicleExistStatus), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.state.responseMessage), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-outline-dark\",\n      style: this.state.buttonStatus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Save\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/ashokbatesar/registration/frontend/src/components/registration/VehicleRegistration.js"],"names":["React","axios","InputCommonName","VehicleRegistration","Component","constructor","props","fetchProduct","responseVehicleList","fetch","jsonVehicleList","json","state","vehicleList","checkVehicle","setState","vehicleExistStatus","responseMessage","buttonStatus","visibility","showList","item","index","vehicleName","toLowerCase","name","forEach","err","onSubmit","e","post","then","res","data","catch","error","target","reset","preventDefault","render","dataFromChild"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport InputCommonName from \"../modular/InputCommonName\"\n\nexport default class VehicleRegistration extends React.Component{\n\n  // Fetch vehicle list from server\n  fetchProduct = async () =>{\n    const responseVehicleList = await fetch(\"http://127.0.0.1:8000/list-of-vehicles/\");\n    const jsonVehicleList = await responseVehicleList.json();\n    this.state.vehicleList = jsonVehicleList;\n  }\n  \n  \n\n  // Check existence of vehicle name \n  checkVehicle = () => {\n    try {\n      this.setState({\n           vehicleExistStatus :\"\",\n           responseMessage: \"\",\n           buttonStatus: {\n            visibility: 'visible'           \n           }\n          });\n      const showList = (item, index) => {\n          if (this.state.vehicleName.toLowerCase() === item.name.toLowerCase()){\n            this.setState({\n               vehicleExistStatus :\"* This vehicle name is already exist!!!\",\n               buttonStatus: {\n                visibility: 'hidden'                 \n               }\n            });\n          }\n          else{}\n      };\n      this.state.vehicleList.forEach(showList);\n    } \n    catch (err) {}\n  }\n\n  constructor(props){\n    super(props);\n\n    this.state={\n      vehicleName: \"\",\n      vehicleExistStatus: \"\",\n      vehicleList: {},\n      responseMessage: \"\",\n      buttonStatus: {\n        visibility: 'visible'\n      }\n    }\n\n    \n    this.state.onSubmit =(e) => {\n        axios.post('http://127.0.0.1:8000/vehicle-registration/', \n        {\n          name: this.state.vehicleName\n        }\n        ).then(res => {\n          this.state.fetchProduct();\n          this.setState({\n            responseMessage: res.data\n          });\n        }\n        ).catch(error => {});\n      e.target.reset();\n      e.preventDefault();\n    };\n  \n  }\n \n  render(){\n    return (\n\t\t<form className=\"form-container form-group\" onSubmit={ e => this.state.onSubmit(e) }>\n    <p className=\"headingViewPart\">vehicle Registration</p>\n\t\t<div className=\"pt-5\">\n\n    <InputCommonName\n            minLength={\"5\"}\n            placeholderParent={\"Vehicle Name\"}\n            callbackFromParent={dataFromChild => {\n              this.state.vehicleName = dataFromChild;\n            }}\n            checkFromParent={this.state.checkVehicle}\n          />\n        \n    </div>    \n    <p>{this.state.vehicleExistStatus}</p>     \n    <p>{this.state.responseMessage}</p>\n    <button type=\"submit\" className=\"btn btn-outline-dark\" style={this.state.buttonStatus} >Save</button>\n    </form>  \n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}