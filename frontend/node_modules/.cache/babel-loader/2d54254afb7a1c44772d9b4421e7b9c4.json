{"ast":null,"code":"var _jsxFileName = \"/home/snakode/registration/frontend/src/components/account/MachineCredit.js\";\nimport React from 'react';\nimport Autocomplete from \"../entry/AutoComplete\";\n\nclass MachineCredit extends React.Component {\n  // Fetch machine list from server\n  //form Handler Submitting\n  constructor(props) {\n    super(props);\n\n    this.fetchProduct = async () => {\n      try {\n        const responsePartyList = await fetch(\"http://127.0.0.1:8000/list-of-machineparty/\");\n        const jsonPartyList = await responsePartyList.json();\n        jsonPartyList.map(item => this.state.partyNamesFromApi.push(item.name));\n        this.state.partyList = jsonPartyList;\n      } catch {}\n    };\n\n    this.onSubmit = async e => {\n      this.setState({\n        input: {\n          visibility: \"hidden\"\n        },\n        table: {\n          visibility: \"visible\"\n        }\n      });\n      const responsCreditDetail = await fetch('http://127.0.0.1:8000/machine-party-credit/', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"party\": this.state.selectedParty\n        })\n      });\n      const jsonCreditDetail = await responsCreditDetail.json();\n      this.setState({\n        creditDetail: jsonCreditDetail\n      });\n      e.target.reset();\n      e.preventDefault();\n    };\n\n    this.state = {\n      creditDetail: {\n        party: \"\",\n        contact: \"\",\n        village: \"\",\n        crasher: \"\",\n        credit: []\n      },\n      partyList: {},\n      selectedParty: \"\",\n      input: {\n        visibility: \"visible\"\n      },\n      table: {\n        visibility: \"hidden\"\n      },\n      partyNamesFromApi: []\n    };\n    this.fetchProduct = this.fetchProduct.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.fetchProduct();\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"form-container form-group\",\n      onSubmit: e => this.onSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: this.state.table,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \" table table-borderd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"thead-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Credit Amount\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Remark\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, this.state.creditDetail.credits.map(credit => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, credit.date), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, credit.credit_amount), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, credit.remark)))))), React.createElement(\"div\", {\n      style: this.state.input,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Autocomplete, {\n      suggestions: this.state.partyNamesFromApi,\n      callbackFromParent: dataFromChild => {\n        this.state.selectedParty = dataFromChild;\n      },\n      placeholderfrom: \"Party name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-outline-dark\",\n      style: this.state.buttonStatus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Save\")));\n  }\n\n}\n\nexport default MachineCredit;","map":{"version":3,"sources":["/home/snakode/registration/frontend/src/components/account/MachineCredit.js"],"names":["React","Autocomplete","MachineCredit","Component","constructor","props","fetchProduct","responsePartyList","fetch","jsonPartyList","json","map","item","state","partyNamesFromApi","push","name","partyList","onSubmit","e","setState","input","visibility","table","responsCreditDetail","method","headers","body","JSON","stringify","selectedParty","jsonCreditDetail","creditDetail","target","reset","preventDefault","party","contact","village","crasher","credit","bind","render","credits","date","credit_amount","remark","dataFromChild","buttonStatus"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Autocomplete from \"../entry/AutoComplete\";\n\nclass MachineCredit extends React.Component{\n    // Fetch machine list from server\n    fetchProduct = async () => {\n        try {\n        const responsePartyList = await fetch(\n            \"http://127.0.0.1:8000/list-of-machineparty/\" \n        );\n        const jsonPartyList = await responsePartyList.json();\n        jsonPartyList.map(item => this.state.partyNamesFromApi.push(item.name));\n        this.state.partyList = jsonPartyList;\n        } catch {\n        }\n    };\n\n  //form Handler Submitting\n  onSubmit = async e => {\n    this.setState({\n        input: {\n            visibility: \"hidden\"\n        },\n        table: {\n            visibility: \"visible\"\n        }\n    });\n\n    const responsCreditDetail = await fetch('http://127.0.0.1:8000/machine-party-credit/', {\n        method: 'post',\n        headers: {'Content-Type':'application/json'},\n        body: JSON.stringify({\n            \"party\": this.state.selectedParty\n        })\n    });        \n    const jsonCreditDetail = await responsCreditDetail.json();\n    this.setState({\n        creditDetail: jsonCreditDetail\n    });    \n\n    e.target.reset();\n    e.preventDefault();\n  };\n\n    constructor(props){\n        super(props);\n        this.state= {\n            creditDetail: {\n                party: \"\",\n                contact: \"\",\n                village: \"\",\n                crasher: \"\",\n                credit: []\n            },\n            partyList: {},\n            selectedParty: \"\",\n            input: {\n                visibility: \"visible\"\n            },\n            table: {\n                visibility: \"hidden\"\n            },\n            partyNamesFromApi: []\n        }\n        \n        this.fetchProduct= this.fetchProduct.bind(this);\n        this.onSubmit= this.onSubmit.bind(this);\n        this.fetchProduct();\n    }\n    render(){\n        return(\n            <form\n            className=\"form-container form-group\"\n            onSubmit={e => this.onSubmit(e)}\n            >\n                <div style={this.state.table}>\n                <table className=\" table table-borderd\">\n                        <thead className=\"thead-dark\">\n                            <tr>\n                                <th>Date</th>\n                                <th>Credit Amount</th>\n                                <th>Remark</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {this.state.creditDetail.credits.map((credit) => (\n                                <tr>\n                                    <td>{credit.date}</td>\n                                    <td>{credit.credit_amount}</td>\n                                    <td>{credit.remark}</td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n                <div style={this.state.input}>\n                    <Autocomplete\n                        suggestions={this.state.partyNamesFromApi}\n                        callbackFromParent={dataFromChild => {\n                        this.state.selectedParty = dataFromChild;\n                        }}\n                        placeholderfrom={\"Party name\"}\n                    />\n                    <br />\n                    <br />\n                    <button\n                        type=\"submit\"\n                        className=\"btn btn-outline-dark\"\n                        style={this.state.buttonStatus}>\n                    Save\n                    </button>\n                </div>\n            </form>\n        );\n    }\n}\n\nexport default MachineCredit;"]},"metadata":{},"sourceType":"module"}