{"ast":null,"code":"var _jsxFileName = \"E:\\\\registration\\\\frontend\\\\src\\\\components\\\\account\\\\MachineCredit.js\";\nimport React from 'react';\nimport Autocomplete from \"../entry/AutoComplete\";\nimport './account.css';\n\nclass MachineCredit extends React.Component {\n  // Fetch machine list from server\n  //form Handler Submitting\n  constructor(props) {\n    super(props);\n\n    this.fetchProduct = async () => {\n      try {\n        const responsePartyList = await fetch(\"http://127.0.0.1:8000/list-of-machineparty/\");\n        const jsonPartyList = await responsePartyList.json();\n        jsonPartyList.map(item => this.state.partyNamesFromApi.push(item.name));\n        this.state.partyList = jsonPartyList;\n      } catch {}\n    };\n\n    this.onSubmit = async () => {\n      const responsCreditDetail = await fetch('http://127.0.0.1:8000/machine-party-credit/', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"party\": this.state.selectedParty\n        })\n      });\n      const jsonCreditDetail = await responsCreditDetail.json();\n      this.setState({\n        creditDetail: jsonCreditDetail,\n        input: {\n          visibility: \"hidden\"\n        },\n        table: {\n          visibility: \"visible\"\n        }\n      });\n    };\n\n    this.state = {\n      creditDetail: {\n        party: \"\",\n        contact: \"\",\n        village: \"\",\n        crasher: \"\",\n        credits: []\n      },\n      partyList: {},\n      selectedParty: \"\",\n      partyNamesFromApi: [],\n      input: {\n        visibility: \"visible\"\n      },\n      table: {\n        visibility: \"hidden\"\n      }\n    };\n    this.fetchProduct = this.fetchProduct.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.fetchProduct();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"mainDiv\",\n      className: \"d-flex justify-content-center align-items-center scrollingSection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: this.state.table,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \" table table-borderd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"thead-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Credit Amount\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Remark\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, this.state.creditDetail.credits.map(credit => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, credit.date), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, credit.credit_amount), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, credit.remark)))))), React.createElement(\"form\", {\n      className: \"form-container form-group\",\n      style: this.state.input,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Autocomplete, {\n      suggestions: this.state.partyNamesFromApi,\n      callbackFromParent: dataFromChild => {\n        this.state.selectedParty = dataFromChild;\n      },\n      placeholderfrom: \"Party name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-outline-dark\",\n      style: this.state.buttonStatus,\n      onClick: e => this.onSubmit(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Save\")));\n  }\n\n}\n\nexport default MachineCredit;","map":{"version":3,"sources":["E:/registration/frontend/src/components/account/MachineCredit.js"],"names":["React","Autocomplete","MachineCredit","Component","constructor","props","fetchProduct","responsePartyList","fetch","jsonPartyList","json","map","item","state","partyNamesFromApi","push","name","partyList","onSubmit","responsCreditDetail","method","headers","body","JSON","stringify","selectedParty","jsonCreditDetail","setState","creditDetail","input","visibility","table","party","contact","village","crasher","credits","bind","render","credit","date","credit_amount","remark","dataFromChild","buttonStatus","e"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Autocomplete from \"../entry/AutoComplete\";\r\nimport './account.css';\r\nclass MachineCredit extends React.Component{\r\n    // Fetch machine list from server\r\n    fetchProduct = async () => {\r\n        try {\r\n        const responsePartyList = await fetch(\r\n            \"http://127.0.0.1:8000/list-of-machineparty/\" \r\n        );\r\n        const jsonPartyList = await responsePartyList.json();\r\n        jsonPartyList.map(item => this.state.partyNamesFromApi.push(item.name));\r\n        this.state.partyList = jsonPartyList;\r\n        } catch {\r\n        }\r\n    };\r\n\r\n  //form Handler Submitting\r\n  onSubmit = async () => {\r\n    const responsCreditDetail = await fetch('http://127.0.0.1:8000/machine-party-credit/', {\r\n        method: 'post',\r\n        headers: {'Content-Type':'application/json'},\r\n        body: JSON.stringify({\r\n            \"party\": this.state.selectedParty\r\n        })\r\n    });        \r\n    const jsonCreditDetail = await responsCreditDetail.json();\r\n\r\n    this.setState({\r\n        creditDetail: jsonCreditDetail,\r\n        input:{\r\n            visibility: \"hidden\"\r\n        },\r\n        table:{\r\n            visibility: \"visible\"\r\n        }\r\n    });\r\n  };\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state= {\r\n            creditDetail: {\r\n                party: \"\",\r\n                contact: \"\",\r\n                village: \"\",\r\n                crasher: \"\",\r\n                credits: []\r\n            },\r\n            partyList: {},\r\n            selectedParty: \"\",\r\n            partyNamesFromApi: [],\r\n            input:{\r\n                visibility: \"visible\"\r\n            },\r\n            table:{\r\n                visibility: \"hidden\"\r\n            }\r\n        }\r\n        \r\n        this.fetchProduct= this.fetchProduct.bind(this);\r\n        this.onSubmit= this.onSubmit.bind(this);\r\n        this.fetchProduct();\r\n    }\r\n    render(){\r\n        return(\r\n            <div id=\"mainDiv\" className=\"d-flex justify-content-center align-items-center scrollingSection\">\r\n                <div style={this.state.table}>\r\n                    <table className=\" table table-borderd\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th>Date</th>\r\n                                <th>Credit Amount</th>\r\n                                <th>Remark</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.creditDetail.credits.map((credit) => (\r\n                                <tr>\r\n                                    <td>{credit.date}</td>\r\n                                    <td>{credit.credit_amount}</td>\r\n                                    <td>{credit.remark}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <form\r\n                    className=\"form-container form-group\"\r\n                    style={this.state.input}\r\n                >\r\n                        <Autocomplete\r\n                            suggestions={this.state.partyNamesFromApi}\r\n                            callbackFromParent={dataFromChild => {\r\n                            this.state.selectedParty = dataFromChild;\r\n                            }}\r\n                            placeholderfrom={\"Party name\"}\r\n                        />\r\n                        <br />\r\n                        <br />\r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-outline-dark\"\r\n                            style={this.state.buttonStatus}\r\n                            onClick={e => this.onSubmit()}>\r\n                        Save\r\n                        </button>\r\n                </form>\r\n            </div>    \r\n        );\r\n    }\r\n}\r\n\r\nexport default MachineCredit;"]},"metadata":{},"sourceType":"module"}